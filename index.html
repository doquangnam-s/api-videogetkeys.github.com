<!DOCTYPE html>
<html>
<head>
  <title>Trích xuất thông tin từ URL</title>
</head>
<body>
  <h1>Thông tin từ URL</h1>
  <p>tile: <span id="tile"></span></p>
  <p>url: <span id="url"></span></p>
  <p>ip: <span id="ip-address"></span></p>

  <script>
    function getIPAddress() {
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
          const ipAddress = data.ip;

          const queryParams = window.location.search;
          const params = new URLSearchParams(queryParams);
          const name = params.get('url');
          const age = params.get('tile');

          // Gán giá trị vào các phần tử HTML
          document.getElementById('tile').textContent = tile || 'Không tìm thấy tên';
          document.getElementById('url').textContent = name || 'Không tìm thấy tên';
          document.getElementById('ip-address').textContent = ipAddress || 'Không tìm thấy địa chỉ IP';
        })
        .catch(error => {
          console.error('Có lỗi xảy ra khi lấy địa chỉ IP:', error);
        });
    }

    // Gọi hàm lấy địa chỉ IP sau khi trang đã tải xong
    document.addEventListener('DOMContentLoaded', getIPAddress);
  </script>
</body>
</html>
